<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025國際醫學研討會 - 線上報名</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: #003366;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
        }

        .progress-bar {
            display: flex;
            background: #f8f9fa;
            padding: 30px;
            border-bottom: 1px solid #dee2e6;
        }

        .step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: #dee2e6;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            margin-bottom: 8px;
        }

        .step.active .step-number {
            background: #0066cc;
        }

        .step.completed .step-number {
            background: #28a745;
        }

        .step-label {
            font-size: 14px;
            color: #6c757d;
        }

        .step.active .step-label {
            color: #0066cc;
            font-weight: bold;
        }

        .content {
            padding: 40px;
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
        }

        .section-title {
            font-size: 24px;
            color: #003366;
            margin-bottom: 30px;
        }

        .notice-box {
            background: #f0f8ff;
            border-left: 4px solid #0066cc;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
        }

        .notice-box h3 {
            color: #003366;
            margin-bottom: 15px;
        }

        .notice-box ul {
            margin-left: 20px;
            color: #495057;
            line-height: 1.8;
        }

        .ticket-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .ticket-card {
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .ticket-card:hover {
            border-color: #0066cc;
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,102,204,0.2);
        }

        .ticket-card.selected {
            border-color: #0066cc;
            background: #f0f8ff;
        }

        .ticket-name {
            font-size: 18px;
            font-weight: bold;
            color: #003366;
            margin-bottom: 10px;
        }

        .ticket-price {
            font-size: 24px;
            color: #0066cc;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .ticket-desc {
            font-size: 14px;
            color: #6c757d;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #495057;
        }

        .required {
            color: #dc3545;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 16px;
        }

        .form-control:focus {
            outline: none;
            border-color: #0066cc;
            box-shadow: 0 0 0 3px rgba(0,102,204,0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 2px;
        }

        .payment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .payment-card {
            padding: 20px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-card:hover {
            border-color: #0066cc;
        }

        .payment-card.selected {
            border-color: #0066cc;
            background: #f0f8ff;
        }

        .payment-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .summary-box {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .summary-row:last-child {
            border-bottom: none;
            padding-top: 15px;
            font-size: 20px;
            font-weight: bold;
            color: #003366;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-primary {
            background: #0066cc;
            color: white;
        }

        .btn-primary:hover {
            background: #0052a3;
        }

        .btn:disabled {
            background: #dee2e6;
            color: #6c757d;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .ticket-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>2025 國際醫學研討會</h1>
            <p>線上報名系統 | 2025年3月15-16日 | 台北國際會議中心</p>
        </div>

        <div class="progress-bar">
            <div class="step active" id="step1">
                <div class="step-number">1</div>
                <div class="step-label">報名須知</div>
            </div>
            <div class="step" id="step2">
                <div class="step-number">2</div>
                <div class="step-label">選擇方案</div>
            </div>
            <div class="step" id="step3">
                <div class="step-number">3</div>
                <div class="step-label">填寫資料</div>
            </div>
            <div class="step" id="step4">
                <div class="step-number">4</div>
                <div class="step-label">付款方式</div>
            </div>
            <div class="step" id="step5">
                <div class="step-number">5</div>
                <div class="step-label">確認送出</div>
            </div>
        </div>

        <div class="content">
            <!-- 步驟1: 報名須知 -->
            <div class="form-section active" id="section1">
                <h2 class="section-title">報名須知與重要資訊</h2>
                
                <div class="notice-box">
                    <h3>📋 報名資格</h3>
                    <ul>
                        <li>本活動開放醫療相關從業人員及相關科系學生參加</li>
                        <li>學生優惠需提供有效學生證明文件</li>
                        <li>會員優惠適用於本學會有效會員</li>
                    </ul>
                </div>

                <div class="notice-box">
                    <h3>💰 費用說明</h3>
                    <ul>
                        <li>報名費用包含：會議資料、茶點、午餐</li>
                        <li>晚宴需另外付費報名（NT$ 1,500）</li>
                        <li>早鳥優惠期限：2025年2月15日止</li>
                        <li>報名後恕不接受退費，但可申請更換參加人員</li>
                    </ul>
                </div>

                <div class="notice-box">
                    <h3>📝 繼續教育積分</h3>
                    <ul>
                        <li>本活動申請醫師繼續教育積分6點</li>
                        <li>護理人員繼續教育積分6點</li>
                        <li>其他醫事人員積分申請中</li>
                    </ul>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="agreeTerms">
                    <label for="agreeTerms">
                        我已詳細閱讀並同意上述報名須知與相關規定，了解報名後恕不接受退費，並同意主辦單位蒐集、處理及利用個人資料作為活動相關用途。
                    </label>
                </div>

                <div class="button-group">
                    <div></div>
                    <button class="btn btn-primary" id="step1Next" disabled>同意並繼續</button>
                </div>
            </div>

            <!-- 步驟2: 選擇方案 -->
            <div class="form-section" id="section2">
                <h2 class="section-title">選擇參加方案</h2>
                
                <div class="ticket-grid">
                    <div class="ticket-card" data-ticket="both" data-price="5000">
                        <div class="ticket-name">2日會議</div>
                        <div class="ticket-price">NT$ 5,000</div>
                        <div class="ticket-desc">3月15-16日完整議程</div>
                    </div>
                    <div class="ticket-card" data-ticket="day1" data-price="3000">
                        <div class="ticket-name">Day 1 會議</div>
                        <div class="ticket-price">NT$ 3,000</div>
                        <div class="ticket-desc">3月15日議程</div>
                    </div>
                    <div class="ticket-card" data-ticket="day2" data-price="3000">
                        <div class="ticket-name">Day 2 會議</div>
                        <div class="ticket-price">NT$ 3,000</div>
                        <div class="ticket-desc">3月16日議程</div>
                    </div>
                    <div class="ticket-card" data-ticket="member" data-price="2000">
                        <div class="ticket-name">會員費</div>
                        <div class="ticket-price">NT$ 2,000</div>
                        <div class="ticket-desc">年度會員費繳納</div>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="addDinner">
                    <label for="addDinner">加購晚宴門票（NT$ 1,500）- 3月15日晚上舉行</label>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goToStep(1)">上一步</button>
                    <button class="btn btn-primary" id="step2Next">下一步</button>
                </div>
            </div>

            <!-- 步驟3: 填寫資料 -->
            <div class="form-section" id="section3">
                <h2 class="section-title">填寫報名資料</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>姓名 <span class="required">*</span></label>
                        <input type="text" class="form-control" id="userName" required>
                    </div>
                    <div class="form-group">
                        <label>身份證字號 <span class="required">*</span></label>
                        <input type="text" class="form-control" id="userId" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>電子郵件 <span class="required">*</span></label>
                        <input type="email" class="form-control" id="userEmail" required>
                    </div>
                    <div class="form-group">
                        <label>手機號碼 <span class="required">*</span></label>
                        <input type="tel" class="form-control" id="userPhone" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>服務單位 <span class="required">*</span></label>
                    <input type="text" class="form-control" id="userOrg" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>職稱</label>
                        <input type="text" class="form-control" id="userTitle">
                    </div>
                    <div class="form-group">
                        <label>飲食需求</label>
                        <select class="form-control" id="userDiet">
                            <option value="none">無特殊需求</option>
                            <option value="vegetarian">素食</option>
                            <option value="vegan">全素</option>
                            <option value="halal">清真</option>
                        </select>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goToStep(2)">上一步</button>
                    <button class="btn btn-primary" id="step3Next">下一步</button>
                </div>
            </div>

            <!-- 步驟4: 付款方式 -->
            <div class="form-section" id="section4">
                <h2 class="section-title">選擇付款方式</h2>
                
                <div class="payment-options">
                    <div class="payment-card" data-payment="credit">
                        <div class="payment-icon">💳</div>
                        <div>信用卡</div>
                    </div>
                    <div class="payment-card" data-payment="atm">
                        <div class="payment-icon">🏦</div>
                        <div>ATM轉帳</div>
                    </div>
                    <div class="payment-card" data-payment="store">
                        <div class="payment-icon">🏪</div>
                        <div>超商繳費</div>
                    </div>
                    <div class="payment-card" data-payment="line">
                        <div class="payment-icon">📱</div>
                        <div>LINE Pay</div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goToStep(3)">上一步</button>
                    <button class="btn btn-primary" id="step4Next">下一步</button>
                </div>
            </div>

            <!-- 步驟5: 確認送出 -->
            <div class="form-section" id="section5">
                <h2 class="section-title">確認報名資訊</h2>
                
                <div class="summary-box">
                    <div class="summary-row">
                        <span>參加方案</span>
                        <span id="summaryTicket">-</span>
                    </div>
                    <div class="summary-row">
                        <span>姓名</span>
                        <span id="summaryName">-</span>
                    </div>
                    <div class="summary-row">
                        <span>電子郵件</span>
                        <span id="summaryEmail">-</span>
                    </div>
                    <div class="summary-row">
                        <span>手機號碼</span>
                        <span id="summaryPhone">-</span>
                    </div>
                    <div class="summary-row">
                        <span>付款方式</span>
                        <span id="summaryPayment">-</span>
                    </div>
                    <div class="summary-row">
                        <span>總金額</span>
                        <span id="summaryTotal">NT$ 0</span>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="finalConfirm">
                    <label for="finalConfirm">我確認以上資料正確無誤，並同意依照所選付款方式完成繳費</label>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="goToStep(4)">上一步</button>
                    <button class="btn btn-primary" id="submitBtn" disabled>確認送出報名</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 全域變數
        let currentStep = 1;
        let selectedTicket = null;
        let ticketPrice = 0;
        let selectedPayment = null;
        let dinnerPrice = 0;

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
        });

        // 設定事件監聽器
        function setupEventListeners() {
            // 步驟1 - 同意條款
            document.getElementById('agreeTerms').addEventListener('change', function() {
                document.getElementById('step1Next').disabled = !this.checked;
            });

            document.getElementById('step1Next').addEventListener('click', () => goToStep(2));

            // 步驟2 - 選擇票種
            document.querySelectorAll('.ticket-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.ticket-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedTicket = this.dataset.ticket;
                    ticketPrice = parseInt(this.dataset.price);
                });
            });

            document.getElementById('addDinner').addEventListener('change', function() {
                dinnerPrice = this.checked ? 1500 : 0;
            });

            document.getElementById('step2Next').addEventListener('click', function() {
                if (!selectedTicket) {
                    alert('請選擇參加方案');
                    return;
                }
                goToStep(3);
            });

            // 步驟3 - 填寫資料
            document.getElementById('step3Next').addEventListener('click', function() {
                if (!validateForm()) {
                    alert('請填寫所有必填欄位');
                    return;
                }
                goToStep(4);
            });

            // 步驟4 - 選擇付款
            document.querySelectorAll('.payment-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.payment-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedPayment = this.dataset.payment;
                });
            });

            document.getElementById('step4Next').addEventListener('click', function() {
                if (!selectedPayment) {
                    alert('請選擇付款方式');
                    return;
                }
                updateSummary();
                goToStep(5);
            });

            // 步驟5 - 最終確認
            document.getElementById('finalConfirm').addEventListener('change', function() {
                document.getElementById('submitBtn').disabled = !this.checked;
            });

            document.getElementById('submitBtn').addEventListener('click', function() {
                alert('報名成功！系統將寄送確認信至您的電子郵件信箱。');
            });
        }

        // 切換步驟
        function goToStep(step) {
            currentStep = step;
            
            // 更新進度條
            document.querySelectorAll('.step').forEach((s, index) => {
                s.classList.remove('active', 'completed');
                if (index + 1 < step) {
                    s.classList.add('completed');
                } else if (index + 1 === step) {
                    s.classList.add('active');
                }
            });

            // 顯示對應區塊
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`section${step}`).classList.add('active');

            // 捲動到頂部
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // 驗證表單
        function validateForm() {
            const requiredFields = ['userName', 'userId', 'userEmail', 'userPhone', 'userOrg'];
            for (let field of requiredFields) {
                if (!document.getElementById(field).value.trim()) {
                    return false;
                }
            }
            return true;
        }

        // 更新摘要
        function updateSummary() {
            const ticketNames = {
                'both': '2日會議',
                'day1': 'Day 1 會議',
                'day2': 'Day 2 會議',
                'member': '會員費'
            };
            
            const paymentNames = {
                'credit': '信用卡',
                'atm': 'ATM轉帳',
                'store': '超商繳費',
                'line': 'LINE Pay'
            };

            document.getElementById('summaryTicket').textContent = ticketNames[selectedTicket];
            document.getElementById('summaryName').textContent = document.getElementById('userName').value;
            document.getElementById('summaryEmail').textContent = document.getElementById('userEmail').value;
            document.getElementById('summaryPhone').textContent = document.getElementById('userPhone').value;
            document.getElementById('summaryPayment').textContent = paymentNames[selectedPayment];
            
            const total = ticketPrice + dinnerPrice;
            document.getElementById('summaryTotal').textContent = `NT$ ${total.toLocaleString()}`;
        }
    </script>
</body>
</html>